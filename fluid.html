<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluid Text</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@900&display=swap');
        body { margin: 0; background: #111; overflow: hidden; font-family: 'Inter', sans-serif; cursor: none; user-select: none; }
        canvas { display: block; }
        #cursor-container { position: absolute; pointer-events: none; z-index: 100; mix-blend-mode: difference; display: flex; justify-content: center; align-items: center; width: 40px; height: 40px; transform: translate(-50%, -50%); transition: width 0.1s, height 0.1s; }
        .cursor-ring { width: 100%; height: 100%; border: 2px solid rgba(255,255,255,0.8); border-radius: 50%; transition: 0.2s; }
        .cursor-claw { position: absolute; width: 120%; height: 120%; opacity: 0; transform: scale(0.5); fill: white; transition: 0.1s; }
        #cursor-container.active { width: 50px; height: 50px; }
        #cursor-container.active .cursor-ring { opacity: 0; transform: scale(0.5); }
        #cursor-container.active .cursor-claw { opacity: 1; transform: scale(1) rotate(-15deg); }
        /* 手机端隐藏光标 */
        @media (hover: none) and (pointer: coarse) { #cursor-container { display: none !important; } }
    </style>
</head>
<body>
    <div id="cursor-container"><div class="cursor-ring"></div><svg class="cursor-claw" viewBox="0 0 1024 1024"><path d="M512 672c-19.2 0-38.4-9.6-48-28.8l-128-256c-19.2-38.4-3.2-86.4 35.2-105.6s86.4-3.2 105.6 35.2L512 387.2l35.2-70.4c19.2-38.4 67.2-54.4 105.6-35.2s54.4 67.2 35.2 105.6l-128 256c-9.6 19.2-28.8 28.8-48 28.8z" /><path d="M512 864c-35.2 0-64-28.8-64-64V480c0-35.2 28.8-64 64-64s64 28.8 64 64v320c0 35.2-28.8 64-64 64z" /><path d="M320 736c-12.8 0-25.6-3.2-38.4-12.8-32-22.4-38.4-67.2-16-99.2l96-128c22.4-32 67.2-38.4 99.2-16s38.4 67.2 16 99.2l-96 128c-12.8 19.2-35.2 28.8-60.8 28.8z" /><path d="M704 736c-25.6 0-48-9.6-60.8-28.8l-96-128c-22.4-32-16-76.8 16-99.2s76.8-16 99.2 16l96 128c22.4 32 16 76.8-16 99.2-12.8 9.6-25.6 12.8-38.4 12.8z" /></svg></div>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d'), cursor = document.getElementById('cursor-container');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particles = [], mouse = {x: null, y: null, radius: 40}, words = ["USTC", "MAN!", "鸡你太美", "唱跳RAP"], wIdx = 0;

        class Particle {
            constructor(x, y) {
                this.x = Math.random()*canvas.width; this.y = Math.random()*canvas.height;
                this.tx = x; this.ty = y; this.size = Math.random()*2+1;
                this.vx = 0; this.vy = 0; this.f = 0.85; this.e = 0.03;
            }
            draw() {
                const a = 1 - Math.min((Math.abs(this.vx)+Math.abs(this.vy))*0.05, 0.7);
                ctx.fillStyle = `rgba(255,255,255,${a})`; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill();
            }
            update() {
                this.vx += (this.tx - this.x) * this.e; this.vy += (this.ty - this.y) * this.e;
                if(mouse.x != null) {
                    const dx = mouse.x - this.x, dy = mouse.y - this.y, dist = Math.sqrt(dx*dx+dy*dy);
                    if(dist < mouse.radius) {
                        const force = (mouse.radius - dist)/mouse.radius, p = cursor.classList.contains('active')?5:1;
                        this.vx -= (dx/dist)*force*20*p; this.vy -= (dy/dist)*force*20*p;
                    }
                }
                this.vx *= this.f; this.vy *= this.f; this.x += this.vx; this.y += this.vy;
            }
        }

        function init(text) {
            particles = []; ctx.clearRect(0,0,canvas.width,canvas.height);
            const size = Math.min(canvas.width/5, 200);
            ctx.font = `900 ${size}px Inter`; ctx.fillStyle='white'; ctx.textAlign='center'; ctx.textBaseline='middle';
            ctx.fillText(text, canvas.width/2, canvas.height/2);
            const data = ctx.getImageData(0,0,canvas.width,canvas.height).data;
            for(let y=0; y<canvas.height; y+=6) for(let x=0; x<canvas.width; x+=6) {
                if(data[(y*4*canvas.width)+(x*4)+3] > 128) particles.push(new Particle(x,y));
            }
        }

        function animate() { ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{p.draw(); p.update()}); requestAnimationFrame(animate); }
        
        function handleInput(x, y, active) {
            mouse.x = x; mouse.y = y; cursor.style.left = x+'px'; cursor.style.top = y+'px';
            active ? cursor.classList.add('active') : cursor.classList.remove('active');
        }

        window.addEventListener('mousemove', e => handleInput(e.clientX, e.clientY, false));
        window.addEventListener('mousedown', () => cursor.classList.add('active'));
        window.addEventListener('mouseup', () => { cursor.classList.remove('active'); wIdx = (wIdx+1)%words.length; init(words[wIdx]); });
        
        // 手机端
        window.addEventListener('touchmove', e => { e.preventDefault(); handleInput(e.touches[0].clientX, e.touches[0].clientY, true); }, {passive:false});
        window.addEventListener('touchstart', e => { e.preventDefault(); handleInput(e.touches[0].clientX, e.touches[0].clientY, true); }, {passive:false});
        window.addEventListener('touchend', () => { mouse.x = null; wIdx = (wIdx+1)%words.length; init(words[wIdx]); });
        window.addEventListener('resize', () => { canvas.width=window.innerWidth; canvas.height=window.innerHeight; init(words[wIdx]); });

        init(words[0]); animate();
    </script>
</body>
</html>